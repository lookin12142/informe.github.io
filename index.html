<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Visor de Chats - SmartClic</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap">
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="brand">
        <h1>Informe Dinámico</h1>
        <p class="subtitle">Sube un archivo <strong>.txt</strong> para procesar y ver las conversaciones agrupadas.</p>
      </div>
    </header>

    <main class="main">
      <div class="layout">
        <aside class="sidebar">
          <section class="uploader">
            <div class="date-range">
              <label>Fecha<br><input type="date" id="filterDate"></label>
            </div>

            <div class="actions">
              <button class="btn primary" onclick="sendDate()">Filtrar por fecha</button>
              <button class="btn" onclick="loadMessages()">Cargar mensajes (GET)</button>
              <button class="btn" onclick="document.getElementById('chat-container').innerHTML = ''">Limpiar</button>
            </div>

            <div id="conversations-list" class="conversations-list">Lista de conversaciones...</div>
            <div style="margin-top:12px">
              <button class="btn" onclick="loadFaltantes()">Cargar faltantes</button>
            </div>
          </section>
        </aside>

        <section class="content">
          <section id="chat-container" class="chat-container">Aquí aparecerán los mensajes...</section>
        </section>
      </div>
    </main>
    
    <section id="analysis-container" class="analysis-container analysis-full">
      <div class="analysis-inner">
        <h4 id="analysis-title">Análisis conversación</h4>
        <div id="analysis-summary" class="analysis-summary">Resultados del análisis aparecerán aquí.</div>
        <div id="analysis-table-wrap" class="analysis-table-wrap">Aquí aparecerá la tabla de evaluación...</div>
      </div>
    </section>

    <section id="faltantes-container" class="faltantes-container">
      <div class="faltantes-inner">
        <h4>Faltantes</h4>
        <div id="faltantes-wrap">Pulsa "Cargar faltantes" en la barra lateral para obtener los datos.</div>
      </div>
    </section>

    <footer class="footer">
      <small>SmartReason — Informe_dInamico</small>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
